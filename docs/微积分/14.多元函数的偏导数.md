
### 1.多元函数 ###

以下将从四个角度研究具有多变量的函数：

1.	语言描述（文字）
2.	数值描述（数值表格）
3.	代数刻画（显式的公式）
4.	直观刻画（曲面或等值线图）


!!! 二元函数
> 二元函数 f 是指在集合 D 中的每个有序实数对 (x, y) 都有**唯一**的实数 f(x, y) 与前者对于
> 
> 这里 D 是函数的 **定义域**，f 能取到的值叫做 **值域**，记作 $\{ f(x, y) | (x, y) \in D \}$
> 
> 几何解释：二元函数 f 满足： 二维平面 $\mathbb R^2$ 的子集（即定义域）的每一个点能通过 f 唯一映射到一个一维数轴 $\mathbb R$ 上的点（这些点构成集合——值域）

!!! tip
	- 通常将二元函数记为 z = f(x, y)，其中 x 和 y 为自变量，z 为因变量
	- 若函数 f 没指定定义域，则 f 的定义域为能使表达式对应于一个确定实数的所有 (x, y) 的集合
	- 以下结论用于讨论二元函数定义域的几何表示：
		- 区域 $\{ (x,y) | x\le F(y) \}$ 表示曲线 x=F(y) 及其 左半部分 的并集；同理，$\{ (x,y) | x\ge F(y) \}$ 表示曲线 x=F(y) 及其 右半部分 的并集
		-  区域 $\{ (x,y) | y\le F(x) \}$ 表示曲线 y=F(x) 及其 下半部分 的并集；同理，$\{ (x,y) | y\ge F(x) \}$ 表示曲线 y=F(x) 及其 上半部分 的并集
		-  不包含 $x=F(y)$ 或 $y=F(x)$ 的情况类似

!!! note "二元函数 图像"
> 如果 f 是一个以 $D\subset \mathbb R^2$ 为定义域的二元函数，那么 f 的图像就是在 $\mathbb R^3$ 中所有的点 (x, y, z)，
> 
> 这里 z=f(x, y) 并且 (x, y) 在 D 中

!!! tip
	1.	(连续)一元函数的图像是曲线，f 的图像在 x 轴与 D 交集的上部分或部分
	2.	(连续)二元函数的图像是曲面，f 的图像在 xoy 与 D 交集的上部分或部分

!!! 平面画图
	- 假设 $f(x, y) = ax + by + c$（二元线性函数，同时也能确定三维平面）
	- 方法1：例如：
		- 令 $x=0$，得到 xoy 截 当前平面 的斜线
		- 令 $y=z=0$，得到 当前平面 在 x 轴的截距
	- 方法2：例如：
		- 分别令 y 和 z，z 和 x，x 和 y 取 0，分别得到 x / y / z 的截距

!!! note "计算机画图"
	- 试着画出如下函数图像：$(x^2 + 3y^2)e^{-x^2-y^2}$，$\sin x + \sin y$，$\frac {\sin x\sin y}{xy}$

!!! note "{==等高线==}"
> 二元函数 f 的等高线就是方程 $f(x, y) = k$ 所对应的曲线（k 为常数）
> 
> 同时也可以认为 $f(x, y) = k$ 是 f 在 xoy 上的投影
> 
> 二元函数的等高线 可以推广到 一元函数的端点，也可以对应于 三元函数的**等高面**

!!! 等高线的应用
	- 地形图：设高于水平面的高度 f 是 x 和 y 的函数，那么 f 的一族等高线对应了 地理学 中的地形图；等高线越密集，表示此处越陡峭
	- 温度带：设温度 f 是经纬度 x 和 y 的函数，那么 f 的一族等高线就是某一时刻的温度等温线

!!! note "试着用等高线画图"
	- $-xye^{-x^2-y^2}$，$\frac {-3y}{x^2+y^2+1}$

!!! note "三元函数"
> 三元函数 f 对于定义域 $D\subset \mathbb R^3$ 内的每个三元组 (x, y, z) 都有唯一的实数 f(x, y, z) 与其对应

!!! note "三元函数的 {==等高面==}"
> 三元函数 f 的等高面就是方程 $f(x, y, z) = k$ 所对应的曲面（k 为常数）


!!! 多元函数
> 一个 n 元函数是一个数组 $(x_1, x_2, \dots, x_n)$ 到一个数 $z=f(x_1,x_2,\dots, x_n)$ 的一个对应
> 
> - 我们有三种方式看待定义在 $\mathbb R^n$ 的子集上的函数：
> 
> 		1.	n 个实变量 $x_1,x_2,\dots,x_n$ 的函数
> 		2.	一个点变量 $(x_1,x_2,\dots,x_n)$ 的函数
> 		3.	一个向量 $\mathbf x = \langle x_1,x_2,\dots,x_n \rangle$ 的函数；f 可表示为 $f(\mathbf x)$

!!! note
	- 我们将所有数组 $((x_1, x_2, \dots, x_n))$ 构成的集合为 $\mathbb R^n$

### 2.多元函数的极限 & 连续性 ###

!!! 二元函数极限
> 1. 感性定义：$\lim\limits_{(x,y)\to (a,b)} f(x, y) = L$ 表示在 f 的定义域点 (x, y) 沿着任何路径趋近于 (a, b) 时，f(x, y) 趋近于一个数 L
> 
>		也就是说，通过让 (x,y) 充分靠近 (a,b)，使得 f(x,y) 充分接近 L
> 
> 2. 严格定义：令 f 是一个二元函数，定义域是 D，其中的点 (x,y) 任意趋近于 (a,b)，那么我们称当 (x,y) 趋近 (a,b) 时，f(x,y) 的极限是 L，记作： $\lim\limits_{(x,y)\to (a,b)} f(x, y) = L$
> 
>		如果对于任意的数 $\epsilon > 0$，有一个相应的 $\delta > 0$ 使得 $|f(x,y)-L|<\epsilon$，这里 $(x,y)\in D$ & $0<\sqrt {(x-a)+(y-b)^2} < \epsilon$
> 
> 3. 二元函数极限也可以表示为 $\lim\limits_{\begin{smallmatrix}x\to a\\ y\to b\end{smallmatrix}} f(x,y)=L$ 或 $f(x,y)\to L$ 当 $(x,y)\to (a,b)$
> 
> 4. 几何解释：由二元函数的几何定义有 f 在 $D\subset \mathbb R^2$ 上的每个点都能唯一映射到一维数轴上(设为 z)
> 
>		如果给定 z 上的任意小区间 $(L-\epsilon, L+\epsilon)$，我们可以在 D 上找到一个以点 (a,b) 为中心，$\delta > 0$ 为半径的圆盘 $D_{\delta}$，使得 f 可以把所有圆盘 $D_{\delta}$ 上的点映射带区间 $(L-\epsilon, L+\epsilon)$
> 
> 5. 其他定义：详见 p215

!!! 定理
> 如果从路径 $C_1:(x,y)\to(a,b)$ 使 $f(x,y)\to L_1$，而沿路径 $C_2:(x,y)\to(a,b)$ 使 $f(x,y)\to L_2$
> 
> 而且 $L_1\ne L_2$，那么 $\lim\limits_{(x,y)\to (a,b)} f(x, y) = L$ 不存在

!!! note
	- 该定理是一元函数情况下的推广：一元函数左右两侧极限不相等 $\iff$ 该处极限不存在

!!! note "{==二元函数极限策略==}"
	1.	结论：$\lim\limits_{(x,y)\to (a,b)} x = a, \lim\limits_{(x,y)\to (a,b)} y = b, \lim\limits_{(x,y)\to (a,b)} c = c$
	2.	沿着数轴接近 (a,b)：
		- 令 y=0(沿着 x 轴接近)，$\lim\limits_{(x,y)\to (a,b)} f(x, y) = L_1$
		- 令 x=0(沿着 y 轴接近)，$\lim\limits_{(x,y)\to (a,b)} f(x, y) = L_2$
		- 若 $L_1\ne L_2$，则极限不存在，否则转到步骤 (3)
	3.	沿着斜线 $y=mx$ 或 $x=my$ 接近 (a,b)：$\lim\limits_{(x,y)\to (a,b)} f(x, y) = L_3$
		- 若 $L_3 \ne L_1$ 或 $L_3 \ne L_2$，则极限不存在，否则转到步骤 (4)
	4.	沿着曲线 $y=g(x)$ 接近 (a,b)：$\lim\limits_{(x,y)\to (a,b)} f(x, y) = L_4$
		- 若存在 i 使得 $L_4 \ne L_i$ ($i=1,2,3$)，则极限不存在，否则转到步骤 (5)
	5.	找到某个数 $\epsilon>0$ 使得 $|f(x,y) - L| < \epsilon$，$\epsilon = g_{\delta}$，并且 $0 < \sqrt {(x-a)^2 + (y-b)^2}< \delta$
		- 我们记 $F(x,y) = |f(x,y)-L|$（简记 $F$），$h(x,y) = \sqrt {(x-a)^2 + (y-b)^2}$（简记 $h$）
		- 有 $F(x,y) < \epsilon$，$h(x,y) < \delta$
		- 我们先找到 $F < \epsilon = F' \circ h$  （注：$F \le \epsilon = F' \circ h$ 的情况当然也成立）
		- 若找到了 $\epsilon$，则对于 $\epsilon = g_{\delta} > 0$，有一个相应的 $\delta = g^{-1}(\epsilon) > 0$ 使得 $F(x,y) = |f(x,y)-L| < \epsilon$，这里 $(x,y)\in D$，$0 < h(x,y) = \sqrt {(x-a)^2 + (y-b)^2} < \epsilon$
		- 如果上述命题能被满足，那么极限存在且为 L

!!! 练习
	- $(x,y)\to (0,0)$ 时，判断下列极限的存在性，若存在，求其极限
	- $\displaystyle \frac {\sin (x^2+y^2)}{x^2+y^2}$，$\displaystyle \frac {x^2-y^2}{x^2+y^2}$，$\displaystyle \frac {xy}{x^2+y^2}$，$\displaystyle \frac {xy^2}{x^2+y^4}$，$\displaystyle \frac {3x^2y}{x^2+y^2}$

!!! 二元函数连续性
> 一个二元函数在 (a,b) 连续，如果 $\lim\limits_{(x,y)\to(a,b)} f(x,y) = f(a,b)$
> 
> 如果 f 在 D 里的每一个点 (a,b) 连续，则 f 在 D 连续

!!! 连续性的感性理解
	- 连续指自变量变化一点，而函数也仅仅变化一点点
	- 在曲面上，连续的含义是没有 断面 和 洞

!!! tip "结论"
	1.	根据极限的性质，可知连续函数的 和，导数，乘积，商 在他们的定义域内连续
	2.	由连续性 和 $\lim\limits_{(x,y)\to (a,b)} x = a, \lim\limits_{(x,y)\to (a,b)} y = b, \lim\limits_{(x,y)\to (a,b)} c = c$ 可知：二元多项式函数 $f(x,y) = cx^ny^m$ 连续，进而 $\lim\limits_{(x,y)\to (a,b)} cx^ny^m = ca^nb^m$
	3.	由 (1),(2) 二元有理函数 在定义域内也连续
	4.	若 f(x,y) 是一个二元连续函数，g(x) 是定义在 f 的值域上的函数（或 g 在 f 的值域的超集上也连续），那么复合函数 $h = g\circ f(x, y)$ 也是一个连续函数


!!! note "三元函数 极限"
> $\lim\limits_{(x,y,z)\to(a,b,c)} f(x,y,z) = L$
> 
> 在 f 的定义域内，但 (x,y,z) 以任意方式趋近 (a,b,c) 时，f(x,y,z) 趋近于 L
> 
> 精确定义：对**任意** $\epsilon > 0$，则**存在** $\delta > 0$，使得 $|f(x,y,z) - L| < \epsilon$，这里 $0 < \sqrt {(x-a)^2 + (y-b)^2 + (z-c)^2} < \delta$，(x,y,z) 在定义域内

!!! note "三元函数 连续性"
> f 在 (a,b,c) 连续，如果 $\lim\limits_{(x,y,z)\to(a,b,c)} f(x,y,z) = f(a,b,c)$


!!! note "多元函数 极限(向量描述)"
> 设 $\mathbf x = \langle x_1, x_2, \dots, x_n \rangle$，$\mathbf a = \langle a_1, a_2, \dots, a_n\rangle$
> 
> 如果 f 是定义在 $D \subset \mathbb R^n$ 上的函数，则$\lim\limits_{\mathbf x\to \mathbf a} f(\mathbf x) = L$，
> 
> 这意味着对于每个数 $\epsilon > 0$，则有一个相应的 $\mathbf \delta > 0$，使得 $|f(\mathbf x) - L| < \epsilon$，这里 $0 < |\mathbf x - \mathbf a| < \delta$，$\mathbf x \in D$


!!! note "多元函数 连续(向量描述)"
> f 在 $\mathbf a$ 处连续，如果 $\lim\limits_{\mathbf x \to \mathbf a} f(\mathbf x) = f(\mathbf a)$

### 3.多元函数的偏导数 ###

!!! note "二元函数 偏导数"
> 如果 f 是一个二元函数，它的偏导数是 $f_x$ 和 $f_y$，定义为：
> 
> $f_x(x, y) = \lim\limits_{h\to 0}\frac {f(x+h, y)-f(x,y)}h$
> 
> $f_y(x, y) = \lim\limits_{h\to 0}\frac {f(x, y+h)-f(x,y)}h$
> 
> - 若 z=f(x,y)，我们记：
> 		- $f_x(x,y)=f_x=\frac {\partial f}{\partial x}=\frac {\partial}{\partial x}f(x,y) = \frac {\partial z}{\partial x} = f_1 = D_1f = D_xf$
> 		- $f_y(x,y)=f_y=\frac {\partial f}{\partial y}=\frac {\partial}{\partial y}f(x,y) = \frac {\partial z}{\partial y} = f_2 = D_2f = D_2f$


!!! 偏导数求导法则
	- 若 z=f(x,y)
	- 为求 $f_x$，把 y 看作常数，对 x 求导
	- 为求 $f_y$，把 x 看作常数，对 y 求导


!!! 二元偏导数的几何意义
> 若 z=f(x,y)
> 
> $f_x(a,b)$ 表示曲线 f(x,y), y=b（即 F(x,z)=0） 的斜率
> 
> $f_y(a,b)$ 表示曲线 f(x,y), x=a（即 F(y,z)=0） 的斜率

!!! 三元偏导数
> $f_x(x,y,z) = \lim\limits_{h\to 0}\frac {f(x+h,y,z)-f(x,y,z)}h$
> 
> $f_y(x,y,z) = \lim\limits_{h\to 0}\frac {f(x,y+h,z)-f(x,y,z)}h$
> 
> $f_z(x,y,z) = \lim\limits_{h\to 0}\frac {f(x,y,z+h)-f(x,y,z)}h$
> 
> 注：$\omega = f(x,y,z)$ 在四维空间中，我们无法解释其几何意义

!!! 多元偏导数
> 令 u 是 n 元函数，$u = f(x_1,x_2,\dots, x_n)$
> 
> 第 i 个变量的偏导数为：$\frac {\partial u}{\partial x_i} = \lim\limits_{h\to 0} \frac {f(x_1,\dots,x_{i-1},x_i+h,x_{i+1},\dots, x_n) - f(x_1,\dots,x_i,\dots, x_n)}h$


!!! 高阶导数
> 若 f 有两个变量，那么偏导数 $f_x$，$f_y$ 仍然是二元函数，
> 
> - 我们讨论导数 $(f_x)_x, (f_x)_y, (f_y)_x, (f_y)_y$，有如下定义：
>
>		1. $(f_x)_x = f_{xx} = f_{11} = \frac {\partial }{\partial x}(\frac {\partial f}{\partial x}) = \frac {\partial ^2f}{\partial x^2} = \frac {\partial ^2z}{\partial x^2}$
>		2. $(f_x)_y = f_{xy} = f_{12} = \frac {\partial }{\partial y}(\frac {\partial f}{\partial x}) = \frac {\partial ^2f}{\partial y\partial x} = \frac {\partial ^2z}{\partial y\partial x}$
>		3. $(f_y)_x = f_{yx} = f_{21} = \frac {\partial }{\partial x}(\frac {\partial f}{\partial y}) = \frac {\partial ^2f}{\partial x\partial y} = \frac {\partial ^2z}{\partial x\partial y}$
>		4. $(f_y)_y = f_{yy} = f_{22} = \frac {\partial }{\partial y}(\frac {\partial f}{\partial y}) = \frac {\partial ^2f}{\partial y^2} = \frac {\partial ^2z}{\partial y^2}$


!!! 克莱罗定理
> 在 f 的定义域 D 内含有点 (a,b)，如果 $f_{xy} = f_{yx}$ 都在 D 内连续，那么 $f_{xy}(a,b) = f_{yx}(a,b)$

!!! tip
	- 如果对每个 元 最多导一次，那么 n 元函数至少有 $2^n$ 种本质相同偏导数，$C_n^i$ 个 i 阶导数

!!! 偏微分方程举例
	- $\frac {\partial ^2u}{\partial x^2} + \frac {\partial ^2u}{\partial y^2} = 0$，解为 $e^x\sin y$
	- $\frac {\partial ^2u}{\partial t^2} = a^2 \frac {\partial ^2u}{\partial x^2}$，解为 $\sin (x-at)$
	- 考伯-当拉斯产出函数定义为 $P = P(L, K)$（P 为收益，L 为劳动力，K 为资本）
		- P 关于 L 的变化率 与 P/L 成比例：$\frac {\partial P}{\partial L} = \alpha \frac PL$ (1)
		- P 关于 K 的变化率 与 P/K 成比例：$\frac {\partial P}{\partial K} = \beta \frac PK$ (2)
		- 对 (1) 和 (2) 分别用“分离变量法”(参见 9.3) 得到：
			- $P(L, K_0) = C_1K_0L^{\alpha}$ ，（$C_1 = \frac {C_1'}{K_0}$）
			- $P(L_0, K) = C_2L_0K^{\beta}$ ，（$C_2 = \frac {C_2'}{L_0}$）
			- 得到：$P(L, K) = bL^{\alpha}K^{\beta}$，假定 $\alpha,\beta > 0$
		- $P(mL, mK) = m^{\alpha+\beta}bL^{\alpha}K^{\beta} = m^{\alpha+\beta}P(L,K)$
		- 当 $\alpha+\beta=1$ 时，称 $P(L,K) = bL^{\alpha}K^{1-\alpha}$ 为考伯-当拉斯产出函数


### 4.切平面 & 线性近似 ###

一元微积分中，我们将函数曲线的一段小区间用它的切线近似

而二元微积分中，我们将函数曲面的一段小区域用它的切面来近似

多元可微函数同样也可以使用类似的近似方法


令 z=f(x,y) 的曲面 C 分别与 $y=y_0$，$x=x_0$ 相交于曲线 $c_1,C_2$；点 $P(x_0,y_0,z_0)$ 位于切平面 G 与曲线 C 的交点

由平面方程(12.5)有： $G:~~A(x-x_0)+B(y-y_0)+C(z-z_0)=0$  $\implies z-z_0=a(x-x_0)+b(y-y_0)$

（$a=-\frac AC,b=-\frac BC, C\ne0$）

记 $T_1,T_2$ 分别为 $C_1,C_2$ 在点 P 处的切线

通过 G 的方程，$T_1,T_2$ 可以分别表示为 $z-z_0=a(x-x_0), y=y_0$ 和 $z-z_0=b(y-y_0), x=x_0$

又由 14.2 可知 $T_1,T_2$ 的斜率分别为 $f_x(x_0,y_0), f_y(x_0,y_0)$，即 $a=f_x(x_0,y_0), b=f_y(x_0,y_0)$

最后得到 C 在 $P(x_0,y_0,z_0)$ 处的切平面 G 为 $z-z_0=f_x(x_0,y_0)(x-x_0)+f_y(x_0,y_0)(y-y_0)$

!!! 曲面的切平面
> 假定 f 有连续的偏导数，平面 C: $z=f(x,y)$ 在点 $P(x_0,y_0,z_0)$ 的切平面方程是：
> 
> G: $z-z_0=f_x(x_0,y_0)(x-x_0)+f_y(x_0,y_0)(y-y_0)$
> 
> 注：$(x,y)$ 是 G 上的任意点，而 $(x_0,y_0)$ 是 C 上的任意点


!!! note "线性近似"
> 我们称 f 在 (a,b) 的线性化为：$L(x, y) = f(a,b) + f_x(a,b)(x-a) + f_y(a,b)(y-b)$
> 
> 称 f 在点 (a,b) 的 线性近似 或 切平面近似 为：$f(x,y) \approx f(a,b) + f_x(a,b)(x-a) + f_y(a,b)(y-b)$


由第 3 章，若 f(x) 在 a 处可微，那么 $\Delta y = f'(a)\Delta x + \epsilon\Delta$，其中 $\Delta\to 0$ 时 $\epsilon\to 0$（$\Delta y = f(a + \Delta x) - f(a)$）

!!! 定义
> 若 z=f(x,y)，那么 f 在点 (a,b) 是可微的，如果 $\Delta z$ 可以表达为：
> 
> $\Delta z = f_x(a,b)\Delta x + f_y(a,b)\Delta y + \epsilon_1\Delta x + \epsilon_2\Delta y$，
> 
> 其中当 $\epsilon_1 \to 0,\epsilon_2 \to 0$ 时，$(\Delta x, \Delta y) \to (0,0)$

!!! 定理
> 如果偏导数 $f_x$ 和 $f_y$ 在 (a,b) 附近存在，并且 (a,b) 连续，则 f 在 (a,b) 点可微


!!! 全微分
> 可微函数 z=f(x,y) 的全微分定义为：$d_z = f_x(x,y)d_x + f_y(x,y)d_y = \frac {\partial z}{\partial x}d_x + \frac {\partial z}{\partial y}d_y$


